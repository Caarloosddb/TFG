<app-navbar></app-navbar>

<div class="d-flex">
  <app-sidebar-futbol></app-sidebar-futbol>

  <main class="flex-grow-1 p-4">
    <div *ngIf="teamInfo && statistics; else loading">
  <!-- Información del equipo -->
  <div class="team-header">
    <img [src]="teamInfo.logo" [alt]="teamInfo.name" class="team-logo" />
    <h1>{{ teamInfo.name }} <small>({{ teamInfo.code }})</small></h1>
  </div>

  <!-- Estadio -->
  <div class="venue-info" *ngIf="venueInfo">
    <h2>Estadio: {{ venueInfo.name }}</h2>
    <p>Ciudad: {{ venueInfo.city }} | Capacidad: {{ venueInfo.capacity | number }}</p>
    <img [src]="venueInfo.image" alt="Estadio {{ venueInfo.name }}" class="venue-img" />
  </div>

  <!-- Plantilla de jugadores -->
  <div class="squad-section">
    <h2>Plantilla</h2>
    <div class="players-grid">
      <div class="player-card" *ngFor="let player of squad">
        <img [src]="player.photo" [alt]="player.name" class="player-photo" />
        <h3>{{ player.name }}</h3>
        <p>Posición: {{ player.position }}</p>
        <p>Edad: {{ player.age }}</p>
        <p>Número: {{ player.number || '-' }}</p>
      </div>
    </div>
  </div>

  <!-- Estadísticas -->
  <div class="statistics-section">
    <h2>Estadísticas</h2>
    <p><strong>Racha actual:</strong> {{ statistics.form }}</p>

    <div class="stats-grid">
      <div class="stat-box">
        <h3>Partidos Jugados</h3>
        <p>Total: {{ statistics.fixtures.played.total }}</p>
        <p>Casa: {{ statistics.fixtures.played.home }} | Fuera: {{ statistics.fixtures.played.away }}</p>
      </div>
      <div class="stat-box">
        <h3>Victorias</h3>
        <p>Total: {{ statistics.fixtures.wins.total }}</p>
        <p>Casa: {{ statistics.fixtures.wins.home }} | Fuera: {{ statistics.fixtures.wins.away }}</p>
      </div>
      <div class="stat-box">
        <h3>Empates</h3>
        <p>Total: {{ statistics.fixtures.draws.total }}</p>
      </div>
      <div class="stat-box">
        <h3>Derrotas</h3>
        <p>Total: {{ statistics.fixtures.loses.total }}</p>
      </div>
      <div class="stat-box">
        <h3>Goles a favor</h3>
        <p>Total: {{ statistics.goals.for.total.total }}</p>
        <p>Promedio: {{ statistics.goals.for.average.total }}</p>
      </div>
      <div class="stat-box">
        <h3>Goles en contra</h3>
        <p>Total: {{ statistics.goals.against.total.total }}</p>
        <p>Promedio: {{ statistics.goals.against.average.total }}</p>
      </div>
      <div class="stat-box">
        <h3>Porterías a cero</h3>
        <p>{{ statistics.clean_sheet.total }}</p>
      </div>
      <div class="stat-box">
        <h3>Partidos sin anotar</h3>
        <p>{{ statistics.failed_to_score.total }}</p>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <p>Cargando información del equipo...</p>
</ng-template>

  </main>
</div>

<app-footer></app-footer>
