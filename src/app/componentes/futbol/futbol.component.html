<app-navbar></app-navbar>

<div class="d-flex">
  <!-- Sidebar -->
  <div class="bg-dark text-white p-3" style="width: 250px; min-height: 100vh;">
    <h5 class="text-center border-bottom pb-2">Menú</h5>

    <div class="accordion" id="sidebarAccordion">
      <!-- Reutilizable por liga -->
      <div class="accordion-item bg-dark border-0">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed bg-dark text-white px-2 py-1" type="button" data-bs-toggle="collapse" data-bs-target="#ligaEsp">
            <i class="bi bi-caret-right-fill me-2"></i>España
          </button>
        </h2>
        <div id="ligaEsp" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
          <div class="accordion-body px-3 py-1">
            <a class="nav-link text-white" routerLink="liga-espanola/partidos">Partidos de Liga</a>
            <a class="nav-link text-white" routerLink="liga-espanola/clasificacion">Clasificación</a>
            <a class="nav-link text-white" routerLink="liga-espanola/copa-del-rey">Copa del Rey</a>
          </div>
        </div>
      </div>

      <!-- Premier League -->
      <div class="accordion-item bg-dark border-0">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed bg-dark text-white px-2 py-1" type="button" data-bs-toggle="collapse" data-bs-target="#premier">
            <i class="bi bi-caret-right-fill me-2"></i>Premier League
          </button>
        </h2>
        <div id="premier" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
          <div class="accordion-body px-3 py-1">
            <a class="nav-link text-white" routerLink="premier/partidos">Partidos de Liga</a>
            <a class="nav-link text-white" routerLink="premier/clasificacion">Clasificación</a>
            <a class="nav-link text-white" routerLink="premier/fa-cup">FA Cup</a>
            <a class="nav-link text-white" routerLink="premier/carabao-cup">Carabao Cup</a>
          </div>
        </div>
      </div>

      <!-- Bundesliga -->
      <div class="accordion-item bg-dark border-0">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed bg-dark text-white px-2 py-1" type="button" data-bs-toggle="collapse" data-bs-target="#bundesliga">
            <i class="bi bi-caret-right-fill me-2"></i>Bundesliga
          </button>
        </h2>
        <div id="bundesliga" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
          <div class="accordion-body px-3 py-1">
            <a class="nav-link text-white" routerLink="bundesliga/partidos">Partidos de Liga</a>
            <a class="nav-link text-white" routerLink="bundesliga/clasificacion">Clasificación</a>
            <a class="nav-link text-white" routerLink="bundesliga/dfb-pokal">DFB Pokal</a>
          </div>
        </div>
      </div>

      <!-- Serie A -->
      <div class="accordion-item bg-dark border-0">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed bg-dark text-white px-2 py-1" type="button" data-bs-toggle="collapse" data-bs-target="#serieA">
            <i class="bi bi-caret-right-fill me-2"></i>Serie A
          </button>
        </h2>
        <div id="serieA" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
          <div class="accordion-body px-3 py-1">
            <a class="nav-link text-white" routerLink="serie-a/partidos">Partidos de Liga</a>
            <a class="nav-link text-white" routerLink="serie-a/clasificacion">Clasificación</a>
            <a class="nav-link text-white" routerLink="serie-a/copa-italia">Copa Italia</a>
          </div>
        </div>
      </div>

      <!-- Ligue 1 -->
      <div class="accordion-item bg-dark border-0">
        <h2 class="accordion-header">
          <button class="accordion-button collapsed bg-dark text-white px-2 py-1" type="button" data-bs-toggle="collapse" data-bs-target="#ligue1">
            <i class="bi bi-caret-right-fill me-2"></i>Ligue 1
          </button>
        </h2>
        <div id="ligue1" class="accordion-collapse collapse" data-bs-parent="#sidebarAccordion">
          <div class="accordion-body px-3 py-1">
            <a class="nav-link text-white" routerLink="ligue-1/partidos">Partidos de Liga</a>
            <a class="nav-link text-white" routerLink="ligue-1/clasificacion">Clasificación</a>
            <a class="nav-link text-white" routerLink="ligue-1/copa-de-francia">Copa de Francia</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Contenido principal -->
  <div class="flex-fill p-4">
    <div class="container mt-5">
      <!-- Mensaje de error -->
      <div *ngIf="errorMessage" class="alert alert-danger">
        {{ errorMessage }}
      </div>
    
      <!-- Tabla de partidos -->
      <table class="table table-striped table-hover" *ngIf="partidos.length > 0">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Fecha</th>
            <th scope="col">Equipo Local</th>
            <th scope="col">Resultado</th>
            <th scope="col">Equipo Visitante</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let partido of partidos">
            <td>{{ partido.fixture.date | date: 'shortDate' }}</td>
            <td>
              <img [src]="partido.teams.home.logo" alt="{{ partido.teams.home.name }}" width="20">
              {{ partido.teams.home.name }}
            </td>
            <td>
              {{ partido.goals.home ?? '-' }} - {{ partido.goals.away ?? '-' }}
            </td>
            <td>
              <img [src]="partido.teams.away.logo" alt="{{ partido.teams.away.name }}" width="20">
              {{ partido.teams.away.name }}
            </td>
          </tr>
        </tbody>
      </table>
    
      <!-- Si no hay partidos disponibles, mostrar mensaje -->
      <div *ngIf="partidos.length === 0" class="alert alert-warning">
        No hay partidos disponibles para la jornada 38.
      </div>
    </div>
  </div>


</div>

<app-footer></app-footer>
